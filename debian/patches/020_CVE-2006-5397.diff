From 686bb8b35acf6cecae80fe89b2b5853f5816ce19 Mon Sep 17 00:00:00 2001
From: Matthias Hopf <mhopf@suse.de>
Date: Wed, 18 Oct 2006 14:25:04 +0200
Subject: [PATCH] Fix double open of compose file.

Issue found by Kees Cook <kees@canonical.com>.
---
 modules/im/ximcp/imLcIm.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

Index: libx11/modules/im/ximcp/imLcIm.c
===================================================================
--- libx11.orig/modules/im/ximcp/imLcIm.c	2006-11-13 23:18:51.000000000 +0100
+++ libx11/modules/im/ximcp/imLcIm.c	2006-11-13 23:19:16.000000000 +0100
@@ -617,7 +617,6 @@
     }
 #endif
 
-    fp = _XFopenFile (name, "r");
     if (! (fp = _XFopenFile (name, "r"))) {
 	if (tmpcachedir)
 	    Xfree  (tmpcachedir);
